jobs:

# jobs for the Nouvola sample application

################################

# add pipeline job
# Run API tests on Nouvola cloud
  - name: test-api-nouvola-run-tests
    type: runSh
    steps:
      - IN: api
      - IN: github-repo
        switch: off
      - TASK:
        #key value pairs declared in PARAMS resources are exported as
        #${RESOURCE NAME}_PARAMS_{KEY}
        - script: echo "API KEY "$API_PARAMS_NOUVOLA_API_KEY
        - script: echo "PLAN ID "$API_PARAMS_NOUVOLA_PLAN_ID
        - script: . $GITHUBREPO_PATH/gitRepo/run-nouvola-tests.sh
    flags:
      - test-api-nouvola
